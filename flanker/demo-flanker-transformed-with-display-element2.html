<!DOCTYPE html>
<html>

<head>
  <title>Flanker Task</title>
  <script src="https://cdn.jsdelivr.net/gh/2603186F/jsPsych-in-Qualtrics/tree/master/flanker/jspsych-6.1.0/jspsych.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/2603186F/jsPsych-in-Qualtrics/flanker/jspsych-6.1.0/tree/master/plugins/jspsych-html-keyboard-response.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/2603186F/jsPsych-in-Qualtrics/flanker/jspsych-6.1.0/tree/master/plugins/jspsych-image-keyboard-response.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/2603186F/jsPsych-in-Qualtrics/tree/master/flanker/jspsych-6.1.0/css/jspsych.css"></link>
  <script src="https://cdn.jsdelivr.net/gh/2603186F/jsPsych-in-Qualtrics/tree/master/flanker/flanker_main2.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/2603186F/jsPsych-in-Qualtrics/tree/master/docs/plugins/jspsych-audio-button-response.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/2603186F/jsPsych-in-Qualtrics/tree/master/docs/plugins/jspsych-html-button-response.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/2603186F/jsPsych-in-Qualtrics/tree/master/docs/plugins/jspsych-preload.js"></script>
</head>
<audio controls autoplay>
    <source src="library_sound.mp3" type="audio/mpeg">
</audio>
<body>

<script>

var timeline = [];

timeline.push({
  type: 'preload',
  auto_preload: true
});

timeline.push({
    type: 'audio-button-response',
    stimulus: 'https://cdn.jsdelivr.net/gh/2603186F/jsPsych-in-Qualtrics/tree/master/flanker/library_sound.mp3',
    choices: ['Green', 'Blue', 'Red'],
    prompt: "<p>What word was said?</p>"
  });

</script>
    <button onclick="play()">Play</button>

  <!-- COPY PASTE TO QUALTRICS FROM HERE -->`

  <!-- Change 3: Adding extra scripts for Qualtrics -->
  <!-- Use JSDELIVR to get the files from a GitHub repository
   https://cdn.jsdelivr.net/gh/<github-username>/<repository-name>/<specific folder or file> -->
  <link href="https://cdn.jsdelivr.net/gh/2603186F/jsPsych-in-Qualtrics/flanker/jspsych-6.1.0/css/jspsych.css" rel="stylesheet" type="text/css"></link>
  
  <div>
    <span style="font-size: 24px;">
      <br><br>
      If you are seeing this message for <span style="color: rgb(255, 0, 0);"><b>more than 5 minutes</b></span>,<br>
      please screen-capture this screen and send the image to us.
      <br><br>
      <span style="font-size: 28px;">We are very sorry for the inconvenience.</span>
    </span>
  </div>

  <!-- Change 2: Adding `display_stage` CSS and Div -->
  <style>
    #display_stage_background {
      width: 100vw;
      background-color: white;
      z-index: -1;
    }

    #display_stage {
      position: fixed;
      left: 1vw;
      top: 1vh;
      height: 98vh;
      width: 98vw;
      background-color: white;
      box-shadow: 1px 1px 1px #999;
      border-radius: 15px;
      z-index: 0;
      overflow-y: hidden;
      overflow-x: hidden;
    }
  </style>
  <!-- COPY PASTE TO QUALTRICS UP TO HERE -->

  <div id='display_stage_background'></div>
  <div id='display_stage'></div>
</body>

<script>
  /*start experiment*/
  jsPsych.init({
    timeline: timeline,
    /* Change 1: Using `display_element` */
    display_element: 'display_stage',
    on_finish: function () {
      jsPsych.data.displayData();
    }
  });
</script>

</html>
